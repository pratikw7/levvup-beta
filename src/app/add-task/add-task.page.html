<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button [disabled]="isDisabled" defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Add new task</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <ion-list lines="full">

    <!-- <ion-item lines='none'>
      <ion-label>Task title</ion-label>
      <ion-label slot="end" style="text-align: end;">Complete?</ion-label>
    </ion-item>
    <ion-item>
      <ion-input required type="text" placeholder="Task" [(ngModel)]="task.title"></ion-input>
      <ion-checkbox  [(ngModel)]="task.completed"></ion-checkbox>
    </ion-item> -->

     <!-- Card for adding a new event -->
  <ion-card>
    <ion-card-header tappable (click)="collapseCard = !collapseCard">
      <ion-card-title>New task</ion-card-title>
    </ion-card-header>
    <ion-card-content *ngIf="!collapseCard">
 
      <ion-item>
        <ion-input (ionChange)="taskTitleCheck()" type="text" placeholder="Title" [(ngModel)]="event.title"></ion-input>
      </ion-item>



      <!-- <ion-item>
        <ion-input type="text" placeholder="Description" [(ngModel)]="event.desc"></ion-input>
      </ion-item> -->

      <ion-item>
        <ion-label>Task type</ion-label>
        <ion-select placeholder="Options" [(ngModel)]="event.taskType">
          <ion-select-option value="other">
            Other
          </ion-select-option>
          <ion-select-option value="fitness">
            Fitness
          </ion-select-option>
          <ion-select-option value="mindfulness">
            Mindfulness
          </ion-select-option>
          <ion-select-option value="journaling">
            Journaling
          </ion-select-option>
        </ion-select>
      </ion-item>

      
      <ion-item>
        <ion-label>Start date (by default today)</ion-label>
        <ion-datetime displayFormat="MM/DD/YYYY HH:mm" pickerFormat="MMM D:HH:mm" [(ngModel)]="event.startTime" [min]="minDate"></ion-datetime>
      </ion-item>
      <!-- <ion-item>
        <ion-label>End</ion-label>
        <ion-datetime displayFormat="MM/DD/YYYY HH:mm" pickerFormat="MMM D:HH:mm" [(ngModel)]="event.endTime" [min]="minDate"></ion-datetime>
      </ion-item> -->
      <ion-item>
        <ion-label>Completed?</ion-label>
        <ion-checkbox [(ngModel)]="event.completed"></ion-checkbox>
      </ion-item>
      <ion-item>
        <ion-label>Enable streak?</ion-label>
        <ion-checkbox [(ngModel)]="event.streak"></ion-checkbox>
      </ion-item>
      <!-- <ion-item>
        <ion-label>All Day?</ion-label>
        <ion-checkbox [(ngModel)]="event.allDay"></ion-checkbox>
      </ion-item> -->
      <ion-button fill="outline" expand="block" (click)="addEvent()" [disabled]="taskTitleCheck()">Add Task</ion-button>
      <ion-button fill="outline" expand="block" (click)="today()">Go to Today</ion-button>
  <!-- </ion-card-content>
</ion-card> -->
  
  <ion-row>
    <!-- <ion-col size="4">
      <ion-button expand="block" [color]="calendar.mode == 'month' ? 'primary' : 'secondary'" (click)="changeMode('month')">Month</ion-button>
    </ion-col>
    <ion-col size="4">
      <ion-button expand="block" [color]="calendar.mode == 'week' ? 'primary' : 'secondary'" (click)="changeMode('week')">Week</ion-button>
    </ion-col>
    <ion-col size="4">
      <ion-button expand="block" [color]="calendar.mode == 'day' ? 'primary' : 'secondary'" (click)="changeMode('day')">Day</ion-button>
    </ion-col> -->

     <!-- Move back one screen of the slides -->
     <ion-col size="5" text-left> <!-- change 11 to 6 and make css changes to text-left -->
      <ion-button fill="clear" (click)="back()">
        <ion-icon name="arrow-back" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-col>
    <ion-col size="6">
      <h1><b>{{viewTitle}}</b></h1>
    </ion-col>
    <!-- Move forward one screen of the slides -->
    <ion-col size="1" text-right> <!-- change 1 to 6 and make css changes to text-right -->
      <ion-button fill="clear" (click)="next()">
        <ion-icon name="arrow-forward" slot="icon-only"></ion-icon>
      </ion-button>
    </ion-col>

  </ion-row>
  <ion-grid>
  <calendar 
  [eventSource]="eventSource" 
  [calendarMode]="calendar.mode" 
  [currentDate]="calendar.currentDate"
  (onEventSelected)="onEventSelected($event)"
  (onTitleChanged)="onViewTitleChanged($event)"
  (onTimeSelected)="onTimeSelected($event)"
  (onCurrentDateChanged)="onCurrentDateChanged($event)"
  (onRangeChanged)="onRangeChanged($event)"
  startHour="0"
  endHour="24"
  step="Hour"
  startingDayWeek="1">
  </calendar>
</ion-grid>

  <!-- </ion-list> -->
  <!-- <ion-button [disabled]="!task.title" expand="full" (click)="addTask()">Save</ion-button> -->
</ion-card-content>
</ion-card>
</ion-list>

</ion-content>