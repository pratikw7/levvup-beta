<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button menu="m1"></ion-menu-button>
    </ion-buttons>
    <ion-title slot="end">{{username}} Profile</ion-title>
    <ion-buttons slot="primary">
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content  [fullscreen]="true" >
  <div *ngIf="friendEmail != 'empty'">
  <div id="container" class="ion-padding">
    <div class="adjust">
      <div class="adjust">
        <div>
          <img class="photo" [src]="photoURL" alt=""> 
        </div>
        <div>
          <img class="border" [src]="borderURL" alt="">
        </div>
      </div>
      <div class="wmsg">
        <h3>Welcome! <b *ngIf="friendEmail">{{username}}</b></h3>
        <p>To know how this app works <a routerLink='/help'>Click here!</a></p>
      </div>
    </div>
    <br><br><br>
    <div class="board">
    <ion-item lines="none">
      <ion-label slot="start" *ngIf="friendEmail">
        <b>Level {{currLevel}}</b>
      </ion-label>
      <ion-label style="text-align: center;" slot="start" *ngIf="friendEmail">
        <b>XP: {{xp}}</b>
      </ion-label>
      <ion-label class="txt-right" *ngIf="friendEmail">
        <b>Level {{nextLevel}}</b>
      </ion-label>
    </ion-item>

    <!-- <ion-progress-bar [value]="prg3"></ion-progress-bar>
    <b>LEVVUP in: {{prg4}}%</b> -->
    <ion-progress-bar color="secondary" [value]="prgLvl"></ion-progress-bar>
    <b>LEVVUP progress: {{prgLvl2 | number:'1.0-2'}}%</b>
    <br><br>
    <ion-progress-bar [value]="prg"></ion-progress-bar>
    <b>Task Progress: {{prg2 | number:'1.0-2'}}%</b>
    <!-- <div class="progress">
    <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:{{prg2}}">
        <b>Progress: {{prg2}}%</b>
    </div>
    </div> -->
    <ion-list>
      <!-- <ion-item *ngFor="let task of tasks">
        <ion-label>{{task.name}}</ion-label>
        <ion-checkbox slot="end" [(ngModel)]="task.isChecked"></ion-checkbox>
      </ion-item> -->
      <ng-container *ngIf="!tasksTemp || tasksTemp.length == 0">
        <div *ngFor="let n of [0,1,2]" padding>
          <p>
            <ion-skeleton-text></ion-skeleton-text>
          </p>
          <p>
            <ion-skeleton-text class="fake-skeleton"></ion-skeleton-text>
          </p>
        </div>
      </ng-container>
      <ng-container *ngIf="!tasks || tasks.length == 0">
        <div padding>
          <p>
            Looks like you haven't yet added your tasks of the day!<br>
            Click the + icon below to add them :)
          </p>
        </div>
      </ng-container>
      
      <ion-item routerLinkActive="router-link-active" *ngFor="let task of tasks">
          <ion-label>
            {{task.title}} 
          <p>{{task.createdAt | date:'short'}}</p>
          <p *ngIf="task.isStreaky"><b>Streak: {{task.streak}}
            <span *ngIf="task.streak==1">😊</span>
            <span *ngIf="task.streak==2">😃</span>
            <span *ngIf="task.streak==3">😁</span>
            <span *ngIf="task.streak==4">😎</span>
            <span *ngIf="task.streak==5">🤩</span>
            <span *ngIf="task.streak==6">⚡</span>
            <span *ngIf="task.streak==7">🔥</span>
            <span *ngIf="task.streak==8">🔥🔥</span>
            <span *ngIf="task.streak>=9">🔥🔥🔥</span>
          </b></p>
          </ion-label>
          <ion-checkbox [disabled]=true [(ngModel)]="task.completed" ></ion-checkbox>
      </ion-item>
    </ion-list>
    <br><br><br><br>
</div>
</div>
</div>
</ion-content>